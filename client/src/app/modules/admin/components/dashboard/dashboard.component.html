<div class="min-h-screen bg-slate-50 p-8">

  <!-- SALUDO C√ÅLIDO -->
  <div class="mb-10">
    <h1 class="text-4xl font-bold text-slate-800 mb-1">
      ¬°Bienvenido de nuevo, {{ usuario }}! üëã
    </h1>
    <p class="text-slate-600 text-lg">
      Esperamos que tengas un excelente d√≠a. Aqu√≠ tienes un resumen de tu plataforma.
    </p>
  </div>

  <!-- TARJETAS RESUMEN -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-md transition border border-slate-100">
      <p class="text-slate-500 text-sm">Solicitudes Pendientes</p>
      <h2 class="text-3xl font-bold text-rose-500">
        {{ dashboardData.solicitudesPreAprobadas }}
      </h2>
    </div>

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-md transition border border-slate-100">
      <p class="text-slate-500 text-sm">Cr√©ditos Activos</p>
      <h2 class="text-3xl font-bold text-blue-500">
        {{ dashboardData.creditosActivos }}
      </h2>
    </div>

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-md transition border border-slate-100">
      <p class="text-slate-500 text-sm">Cr√©ditos Totales</p>
      <h2 class="text-3xl font-bold text-emerald-500">
        {{ dashboardData.totalCreditos }}
      </h2>
    </div>

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-md transition border border-slate-100">
      <p class="text-slate-500 text-sm">% Aprobaci√≥n</p>
      <h2 class="text-3xl font-bold text-indigo-500">
        74%
      </h2>
    </div>

  </div>

  <!-- LAYOUT CON LATERAL -->
  <div class="grid grid-cols-1 lg:grid-cols-4 gap-10">

    <!-- PANEL LATERAL DE ACTIVIDAD -->
    <div class="lg:col-span-1">
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
  <div class="px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50">
    <h3 class="text-xl font-semibold text-gray-900">Actividad Reciente</h3>
  </div>

  <div class="p-6">
    <div *ngIf="dashboardData?.actividadReciente?.length > 0; else noActivity" class="space-y-4">
      
      <div *ngFor="let item of dashboardData.actividadReciente"
           class="p-4 bg-gray-50 rounded-lg border hover:bg-gray-100 transition">

        <p class="text-sm text-gray-800 font-medium">
          {{ item.descripcion }}
        </p>

        <p class="text-xs text-gray-500 mt-1">
          {{ item.timestamp | date:'short' }}
        </p>

      </div>

    </div>

    <ng-template #noActivity>
      <p class="text-gray-500 text-sm text-center py-4">
        No hay actividad reciente
      </p>
    </ng-template>

  </div>
</div>

    </div>

    <!-- √ÅREA PRINCIPAL DE GR√ÅFICAS -->
    <div class="lg:col-span-3 space-y-10">

      <!-- BARRAS HORIZONTALES -->
      <div class="bg-white p-6 rounded-xl shadow border border-slate-100 h-80">
        <h3 class="text-xl font-semibold text-slate-800 mb-4">Solicitudes por Estado</h3>
        <canvas baseChart
                [data]="barHorizontalData"
                [options]="chartOptions"
                chartType="bar">
        </canvas>
      </div>

      <!-- PIE SEMI-DONUT -->
      <div class="bg-white p-6 rounded-xl shadow border border-slate-100 h-80">
        <h3 class="text-xl font-semibold text-slate-800 mb-4">Cr√©ditos</h3>
        <canvas baseChart
                [data]="pieSemiDonutData"
                chartType="doughnut">
        </canvas>
      </div>

      <!-- √ÅREA DEGRADADO -->
      <div class="bg-white p-6 rounded-xl shadow border border-slate-100 h-80">
        <h3 class="text-xl font-semibold text-slate-800 mb-4">Pagos por D√≠a</h3>
        <canvas baseChart
                [data]="areaDegradadoData"
                chartType="line">
        </canvas>
      </div>

      <!-- BARRA APILADA -->
      <div class="bg-white p-6 rounded-xl shadow border border-slate-100 h-80">
        <h3 class="text-xl font-semibold text-slate-800 mb-4">Comparativo Semanal</h3>
        <canvas baseChart
                [data]="barraApiladaData"
                chartType="bar">
        </canvas>
      </div>

      <!-- POLAR AREA -->
      <div class="bg-white p-6 rounded-xl shadow border border-slate-100 h-80">
        <h3 class="text-xl font-semibold text-slate-800 mb-4">Indicadores del Sistema</h3>
        <canvas baseChart
                [data]="polarChartData"
                chartType="polarArea">
        </canvas>
      </div>

    </div>

  </div>

</div>
